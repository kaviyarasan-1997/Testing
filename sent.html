<!DOCTYPE html>
<html lang="ta">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NGL Pro - Secret Message</title>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
    <style>
        :root { --p-pink: #ff006e; --p-blue: #3a86ff; }
        body { margin: 0; font-family: 'Poppins', sans-serif; background: #000; display: flex; align-items: center; justify-content: center; height: 100vh; color: #fff; overflow: hidden; }
        .bg-gradient { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: linear-gradient(45deg, #0f0c29, #302b63, #24243e); z-index: -1; }
        .card { background: rgba(255, 255, 255, 0.05); backdrop-filter: blur(15px); border: 1px solid rgba(255,255,255,0.1); padding: 40px 20px; border-radius: 30px; width: 90%; max-width: 360px; text-align: center; box-shadow: 0 20px 50px rgba(0,0,0,0.5); }
        .profile-ring { width: 110px; height: 110px; border-radius: 50%; background: linear-gradient(to right, #f09433, #bc1888); padding: 4px; margin: -90px auto 20px; box-shadow: 0 10px 20px rgba(0,0,0,0.3); }
        .profile-img { width: 100%; height: 100%; border-radius: 50%; border: 4px solid #000; object-fit: cover; background: #222; }
        h2 { font-size: 20px; margin-bottom: 5px; }
        p { font-size: 14px; color: #ccc; margin-bottom: 20px; }
        .input-group { background: rgba(255,255,255,0.1); border-radius: 15px; padding: 5px; margin-bottom: 15px; }
        input, textarea { width: 100%; background: transparent; border: none; color: white; padding: 12px; outline: none; box-sizing: border-box; font-size: 15px; }
        textarea { height: 120px; resize: none; border-top: 1px solid rgba(255,255,255,0.1); }
        button { background: linear-gradient(to right, var(--p-pink), var(--p-blue)); color: white; border: none; padding: 15px; border-radius: 50px; font-weight: bold; width: 100%; font-size: 16px; cursor: pointer; box-shadow: 0 5px 15px rgba(255, 0, 110, 0.3); transition: 0.3s; }
        button:hover { transform: translateY(-3px); box-shadow: 0 8px 20px rgba(255, 0, 110, 0.5); }
        .inbox-floating { position: fixed; bottom: 20px; right: 20px; background: #fff; color: #000; padding: 10px 20px; border-radius: 50px; text-decoration: none; font-weight: bold; font-size: 12px; }
    </style>
</head>
<body>
    <div class="bg-gradient"></div>
    <a href="admin.html" class="inbox-floating">MY INBOX ðŸ“¥</a>
    
    <div class="card">
        <div class="profile-ring">
            <img id="p-img" class="profile-img" src="https://api.dicebear.com/7.x/avataaars/svg?seed=NGL">
        </div>
        <h2>Send Anonymous Message</h2>
        <p>I won't know who sent it! ðŸ¤«</p>
        
        <div class="input-group">
            <input type="text" id="insta-id" placeholder="Insta ID (to show your DP)" oninput="updateUI()">
            <textarea id="message" placeholder="Type something secret..."></textarea>
        </div>
        
        <button onclick="sendNGL()">SEND NOW ðŸš€</button>
    </div>

    <script>
        const firebaseConfig = {
            apiKey: "AIzaSyBLyf_dz6xPC9wdthZSVtpatkc8JgFhE4Q",
            databaseURL: "https://chatbox-chats-default-rtdb.firebaseio.com",
        };
        firebase.initializeApp(firebaseConfig);
        const db = firebase.database();

        function updateUI() {
            const id = document.getElementById('insta-id').value.trim();
            const img = document.getElementById('p-img');
            img.src = id ? `https://unavatar.io/instagram/${id}` : `https://api.dicebear.com/7.x/avataaars/svg?seed=${Math.random()}`;
        }

        function sendNGL() {
            const msg = document.getElementById('message').value.trim();
            const user = document.getElementById('insta-id').value.trim() || "Anonymous";
            if(msg) {
                db.ref('messages').push({ user, text: msg, timestamp: Date.now() }).then(() => {
                    confetti({ particleCount: 150, spread: 70, origin: { y: 0.6 } });
                    alert("Message Sent Secretly! ðŸ”’");
                    document.getElementById('message').value = "";
                });
            }
        }
    </script>
</body>
</html>
